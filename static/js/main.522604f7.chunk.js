(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{29:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var r,c,a,i,o,u,s,j=n(0),l=n.n(j),d=n(15),b=n.n(d),x=(n(29),n(3)),O=n(18),f=n(2),h=n(14),p=n.n(h),v=n(20),g=n(5),k=n.n(g),C=n(7),m=n(8),y=m.a.input(r||(r=Object(C.a)(["\n    width:45px;\n    outline: none;\n    border-width: 0;\n    color: black;\n    border-radius:50px;\n    background-color: #3DC7BE;\n    font-size:inherit;\n"]))),w=m.a.input(c||(c=Object(C.a)(["\n    border-radius: 50px;\n    width: 149px;\n    height:30px;\n    border: 2px solid #000000\n    margin-right: 5px;\n    padding-left: 5px;\n    font-size:inherit;\n"]))),T=m.a.div(a||(a=Object(C.a)(["\n    display: flex;\n    width: 199px;\n    margin:auto;\n    margin-bottom: 20px;\n"]))),S=m.a.div(i||(i=Object(C.a)(["\n    margin:auto;\n    margin-bottom: 10px;\n    width: 199px;\n    min-height: 40px;\n    max-height: 40px;\n    background-color: bisque;\n    &:hover{\n        background-color:rgb(188, 161, 126);\n    }\n"]))),A=m.a.div(o||(o=Object(C.a)(["\n    color: red;\n    position: relative;\n    right:5px;\n    cursor:pointer;\n    &:hover{\n        color:lightblue;\n    };\n"]))),R=m.a.input(u||(u=Object(C.a)(["\n    height:40px;\n    width:80%;\n    text-align:left;\n    font-size:inherit;\n    background-color:transparent;\n    border:0px;\n    outline:none;\n"]))),q=m.a.div(s||(s=Object(C.a)(["\n    width:100%;\n    height:40px;\n    display: flex;\n    align-items:center;\n\n    font-size: inherit;\n    font-family: KaiTi;\n    padding-left: ",";\n    border-left: "," "," green;        \n    cursor:pointer;\n"])),(function(t){return t.task.reminder?"5px":"9px"}),(function(t){return t.task.reminder?"4px":"0"}),(function(t){return t.task.reminder?"solid":"none"})),E=n(1),F=Object(j.createContext)(),D=function(t){var e=Object(j.useState)(""),n=Object(x.a)(e,2),r=n[0],c=n[1],a=Object(j.useState)([]),i=Object(x.a)(a,2),o=i[0],u=i[1],s=Object(j.useState)(0),l=Object(x.a)(s,2),d=l[0],b=l[1],O=Object(j.useRef)(0);return Object(E.jsx)(F.Provider,{value:{textContext:[r,c],taskContext:[o,u],idContext:[d,b],refContext:O},children:t.children})},P=function(){var t=Object(j.useContext)(F),e=Object(x.a)(t.textContext,2),n=e[0],r=e[1],c=t.refContext;return Object(E.jsx)(w,{type:"text",placeholder:"\u65b0\u589e\u4efb\u52d9",value:n,onChange:function(t){return r(t.target.value)},onKeyDown:function(t){return"Enter"===t.key?c.current.click():""}})};P.prototype={txt:k.a.string.isRequired,setTxt:k.a.func.isRequired};var B=P,I=n(17);var J=function(){var t=Object(j.useContext)(F),e=Object(x.a)(t.textContext,2),n=e[0],r=e[1],c=t.refContext,a=Object(x.a)(t.idContext,2),i=a[0],o=a[1],u=Object(x.a)(t.taskContext,2),s=u[0],l=u[1],d=Object(j.useCallback)((function(t){if(!(t.length<=0)){var e={id:i,value:t,reminder:!1};l([].concat(Object(I.a)(s),[e])),o(i+1)}}),[i,s,l,o]);return Object(E.jsx)(y,{ref:c,type:"button",value:"\u65b0\u589e",onClick:function(){d(n),r("")}})},N=Object(j.createContext)(),_=function(t){var e=Object(j.useState)([]),n=Object(x.a)(e,2),r=n[0],c=n[1],a=Object(j.useState)(),i=Object(x.a)(a,2),o=i[0],u=i[1],s=Object(j.useState)(!0),l=Object(x.a)(s,2),d=l[0],b=l[1];return Object(E.jsx)(N.Provider,{value:{PoolContext:[r,c],FuncContext:[o,u],ActiveContext:[d,b]},children:t.children})};var z=function(){var t=Object(j.useContext)(N),e=Object(j.useContext)(F),n=Object(x.a)(e.taskContext,2)[1],r=Object(x.a)(t.PoolContext,1)[0],c=Object(x.a)(t.ActiveContext,1)[0],a=Object(x.a)(e.idContext,2),i=a[0],o=a[1],u=function(){var t=Object(v.a)(p.a.mark((function t(){var e,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://raw.githubusercontent.com/JiaAnTW/json_storage/master/react-tutorial/todolist.json",{method:"GET"});case 2:return e=t.sent,t.next=5,e.text();case 5:return n=t.sent,t.next=8,JSON.parse(n).data;case 8:return r=t.sent,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=Object(j.useState)([]),l=Object(x.a)(s,2),d=l[0],b=l[1];return Object(j.useEffect)((function(){var t=function(){var t=Object(v.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:e=t.sent,0===i&&c?b(e):0===i&&0!==r.length&&(o(r.length+1),n(r));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[i,r,n,c,o]),Object(j.useEffect)((function(){o(d.length+1),n(d)}),[d,o,n]),Object(E.jsxs)(T,{children:[Object(E.jsx)(B,{}),Object(E.jsx)(J,{})]})};function K(t){var e=t.task,n=(t.setTask,t.toggle),r=t.delete_,c=Object(j.useState)(0),a=Object(x.a)(c,2),i=a[0],o=a[1];return Object(E.jsx)(S,{children:Object(E.jsxs)(q,{task:e,onDoubleClick:function(){return t=e.id,n(t),void o(!i);var t},children:[Object(E.jsx)(R,{onChange:function(t){return n=t.target.value,e.value=n,void o(!i);var n},value:e.value,placeholder:"Empty Task"}),Object(E.jsx)(A,{onClick:function(){return r(e.id)},children:" x "})]})})}K.prototype={tasks:k.a.array.isRequired,type:k.a.bool.isRequired};var G=K;var L=function(){var t=Object(j.useContext)(F),e=Object(x.a)(t.taskContext,2),n=e[0],r=e[1],c=Object(j.useCallback)((function(t){n.map((function(e){return e.id===t?e.reminder=!e.reminder:""}))}),[n]),a=Object(j.useCallback)((function(t){r(n.filter((function(e){return e.id!==t})))}),[n,r]),i=Object(j.useContext)(N),o=Object(x.a)(i.PoolContext,2)[1],u=Object(x.a)(i.FuncContext,2)[1];return Object(j.useEffect)((function(){o(n),u((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0;t([e])}))}),[o,u,n]),Object(E.jsx)(E.Fragment,{children:n.map((function(t){return Object(E.jsx)(G,{setTask:r,task:t,toggle:c,delete_:a},t.id)}))})};var V=function(){return Object(E.jsxs)(D,{children:[Object(E.jsx)(z,{}),Object(E.jsx)(L,{})]})},W=n(4),M=function(){var t=Object(W.c)((function(t){return t.input})),e=Object(W.c)((function(t){return t.id})),n=Object(W.b)();return Object(E.jsx)(w,{type:"text",placeholder:"\u65b0\u589e\u4efb\u52d9",value:t,onChange:function(t){return n({type:"SetText",text:t.target.value})},onKeyDown:function(r){return"Enter"===r.key?(n({type:"NewTask",new:{id:e,value:t,reminder:!1}}),n({type:"Add"}),void n({type:"ClearAll"})):""}})};function H(){var t=Object(W.c)((function(t){return t.input})),e=Object(W.c)((function(t){return t.id})),n=Object(W.b)();return Object(E.jsx)(y,{type:"button",value:"\u65b0\u589e",onClick:function(){n({type:"NewTask",new:{id:e,value:t,reminder:!1}}),n({type:"Add"}),n({type:"ClearAll"})}})}H.prototype={setTasks:k.a.func.isRequired,txt:k.a.string.isRequired,setTxt:k.a.func.isRequired};var Q=H;var U=function(){return Object(E.jsxs)(T,{children:[Object(E.jsx)(M,{}),Object(E.jsx)(Q,{})]})};var X=function(t){var e=t.task,n=Object(W.b)(),r=Object(j.useState)(0),c=Object(x.a)(r,2),a=c[0],i=c[1];return Object(E.jsx)(S,{children:Object(E.jsxs)(q,{task:e,onDoubleClick:function(){return n({type:"SwitchStatus",id:e.id})},children:[Object(E.jsx)(R,{onChange:function(t){return n=t.target.value,e.value=n,void i(!a);var n},value:e.value,placeholder:"Empty Task"}),Object(E.jsx)(A,{onClick:function(){return n({type:"DeleteTask",id:e.id})},children:"x"})]})})};function Y(){var t=Object(W.c)((function(t){return t.tasks}));return Object(E.jsx)(E.Fragment,{children:t.map((function(t){return Object(E.jsx)(X,{task:t},t.id)}))})}Y.prototype={setTasks:k.a.func.isRequired,tasks:k.a.array.isRequired,toggle:k.a.func.isRequired,delete_:k.a.func.isRequired};var Z=Y;var $=function(){var t=Object(W.c)((function(t){return t.id})),e=Object(W.b)();return Object(j.useEffect)((function(){0===t&&fetch("https://raw.githubusercontent.com/JiaAnTW/json_storage/master/react-tutorial/todolist.json",{method:"GET"}).then((function(t){return t.json()})).then((function(t){console.log(t.data.length),e({type:"Value",value:t.data.length+1}),e({type:"InitTask",allTask:t.data})}))}),[t,e]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(U,{}),Object(E.jsx)(Z,{})]})};var tt=function(){var t=Object(j.useContext)(N),e=Object(x.a)(t.ActiveContext,2)[1];return Object(E.jsx)(O.a,{children:Object(E.jsxs)("div",{className:"App",children:[Object(E.jsxs)("ul",{children:[Object(E.jsxs)("li",{children:[" ",Object(E.jsx)(O.b,{to:"/to-do-list",children:"ContextAPI"})]}),Object(E.jsx)("li",{onClick:function(){return e(!1)},children:Object(E.jsx)(O.b,{to:"/to-do-list/redux",children:"Redux"})})]}),Object(E.jsxs)(f.c,{children:[Object(E.jsx)(f.a,{path:"/to-do-list/",element:Object(E.jsx)(V,{})}),Object(E.jsx)(f.a,{path:"/to-do-list/redux",element:Object(E.jsx)($,{})})]})]})})},et=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SetText":return e.text;case"ClearAll":return"";default:return t}},rt=n(11),ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"InitTask":return e.allTask;case"NewTask":return[].concat(Object(I.a)(t),[e.new]);case"DeleteTask":return t.filter((function(t){return t.id!==e.id}));case"SwitchStatus":return t.map((function(t){return t.id===e.id?Object(rt.a)(Object(rt.a)({},t),{},{reminder:!t.reminder}):t}));default:return t}},at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"Add":return t+1;case"Value":return t+e.value;default:return t}},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return"BindButton"===e.type?e.button:t},ot=n(16),ut=Object(ot.a)({input:nt,tasks:ct,id:at,button:it}),st=Object(ot.b)(ut);b.a.render(Object(E.jsx)(l.a.StrictMode,{children:Object(E.jsx)(W.a,{store:st,children:Object(E.jsx)(_,{children:Object(E.jsx)(tt,{})})})}),document.getElementById("root")),et()}},[[38,1,2]]]);
//# sourceMappingURL=main.522604f7.chunk.js.map