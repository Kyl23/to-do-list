(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{29:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var r,a,c,i,s,o,u,j,l,d,b=n(0),x=n.n(b),O=n(16),f=n.n(O),h=(n(29),n(18)),p=n(2),v=n(3),k=n(15),g=n.n(k),m=n(20),T=n(10),C=n(8),y=n.n(C),w=n(6),E=n(7),S=E.a.input(r||(r=Object(w.a)(["\n    width:45px;\n    outline: none;\n    border-width: 0;\n    color: black;\n    border-radius:50px;\n    background-color: #3DC7BE;\n    font-size:inherit;\n"]))),A=E.a.input(a||(a=Object(w.a)(["\n    border-radius: 50px;\n    width: 149px;\n    height:30px;\n    border: 2px solid #000000\n    margin-right: 5px;\n    padding-left: 5px;\n    font-size:inherit;\n"]))),_=E.a.div(c||(c=Object(w.a)(["\n    display: flex;\n    width: 199px;\n    margin:auto;\n    margin-bottom: 20px;\n"]))),K=E.a.div(i||(i=Object(w.a)(["\n    margin:auto;\n    margin-bottom: 10px;\n    width: 199px;\n    min-height: 40px;\n    max-height: 40px;\n    background-color: bisque;\n    &:hover{\n        background-color:rgb(188, 161, 126);\n    }\n"]))),I=E.a.div(s||(s=Object(w.a)(["\n    color: red;\n    position: relative;\n    right:5px;\n    cursor:pointer;\n    &:hover{\n        color:lightblue;\n    };\n"]))),D=E.a.input(o||(o=Object(w.a)(["\n    height:40px;\n    width:80%;\n    text-align:left;\n    font-size:inherit;\n    background-color:transparent;\n    border:0px;\n    outline:none;\n"]))),F=E.a.div(u||(u=Object(w.a)(["\n    width:100%;\n    height:40px;\n    display: flex;\n    align-items:center;\n\n    font-size: inherit;\n    font-family: KaiTi;\n    padding-left: ",";\n    border-left: "," "," green;        \n    cursor:pointer;\n"])),(function(t){return t.task.reminder?"5px":"9px"}),(function(t){return t.task.reminder?"4px":"0"}),(function(t){return t.task.reminder?"solid":"none"})),N=E.a.ul(j||(j=Object(w.a)(["\n    width:100vw;\n    position:absolute;\n    top:0;left:0;\n    margin:0;\n    background-color:lightblue;\n    font-size:inherit;\n    text-align:left;\n"]))),W=E.a.li(l||(l=Object(w.a)(["\n    display:inline-block;\n    margin:0 20px 0 20px;\n    text-decoration:none;\n"]))),q=Object(E.a)(h.b)(d||(d=Object(w.a)(["\n    text-decoration:none;\n"]))),z=n(1),J=Object(b.createContext)(),L=function(t){var e=Object(b.useState)({tasks:[],id:0}),n=Object(v.a)(e,2),r=n[0],a=n[1];return Object(z.jsx)(J.Provider,{value:{taskContext:[r,a]},children:t.children})},R=function(t){var e=t.txt,n=t.setTxt,r=Object(b.useContext)(J),a=Object(v.a)(r.taskContext,2),c=a[0],i=a[1],s=c.id,o=Object(b.useCallback)((function(t){if(!(t.length<=0)){var e={id:s,value:t,reminder:!1};i({tasks:[].concat(Object(T.a)(c.tasks),[e]),id:s+1}),n("")}}),[s,c,i,n]);return Object(z.jsx)(A,{type:"text",placeholder:"\u65b0\u589e\u4efb\u52d9",value:e,onChange:function(t){return n(t.target.value)},onKeyDown:function(t){return"Enter"===t.key?o(t.target.value):""}})};R.prototype={txt:y.a.string.isRequired,setTxt:y.a.func.isRequired};var P=R;var B=function(t){var e=t.txt,n=t.setTxt,r=Object(b.useContext)(J),a=Object(v.a)(r.taskContext,2),c=a[0],i=a[1],s=c.id,o=Object(b.useCallback)((function(t){if(!(t.length<=0)){var e={id:s,value:t,reminder:!1};i({tasks:[].concat(Object(T.a)(c.tasks),[e]),id:s+1}),n("")}}),[s,c,i,n]);return Object(z.jsx)(S,{type:"button",value:"\u65b0\u589e",onClick:function(){o(e)}})},G=function(){var t=Object(m.a)(g.a.mark((function t(){var e,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://raw.githubusercontent.com/JiaAnTW/json_storage/master/react-tutorial/todolist.json",{method:"GET"});case 2:return e=t.sent,t.next=5,e.text();case 5:return n=t.sent,t.next=8,JSON.parse(n).data;case 8:return r=t.sent,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var H=function(){var t=Object(b.useContext)(J),e=Object(v.a)(t.taskContext,2)[1],n=t.taskContext[0].id,r=Object(b.useState)([]),a=Object(v.a)(r,2),c=a[0],i=a[1],s=Object(b.useCallback)((function(t){i(t)}),[]);Object(b.useEffect)((function(){var t=function(){var t=Object(m.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[s]),Object(b.useEffect)((function(){0===n&&0!==c.length&&e({tasks:c,id:c.length+1})}),[c,n,e]);var o=Object(b.useState)(""),u=Object(v.a)(o,2),j=u[0],l=u[1];return Object(z.jsxs)(_,{children:[Object(z.jsx)(P,{txt:j,setTxt:l}),Object(z.jsx)(B,{txt:j,setTxt:l})]})};function M(t){var e=t.task,n=t.toggle,r=t.delete_,a=Object(b.useState)(0),c=Object(v.a)(a,2),i=c[0],s=c[1];return Object(z.jsx)(K,{children:Object(z.jsxs)(F,{task:e,onDoubleClick:function(){return t=e.id,n(t),void s(!i);var t},children:[Object(z.jsx)(D,{onChange:function(t){return n=t.target.value,e.value=n,void s(!i);var n},value:e.value,placeholder:"Empty Task"}),Object(z.jsx)(I,{onClick:function(){return r(e.id)},children:" x "})]})})}M.prototype={tasks:y.a.array.isRequired,type:y.a.bool.isRequired};var Q=M;var U=function(){var t=Object(b.useContext)(J),e=Object(v.a)(t.taskContext,2),n=e[0],r=e[1],a=Object(b.useCallback)((function(t){n.tasks.map((function(e){return e.id===t?e.reminder=!e.reminder:""}))}),[n]),c=Object(b.useCallback)((function(t){r({tasks:n.tasks.filter((function(e){return e.id!==t})),id:n.id})}),[n,r]);return Object(z.jsx)(z.Fragment,{children:n.tasks.map((function(t){return Object(z.jsx)(Q,{task:t,toggle:a,delete_:c},t.id)}))})};var V=function(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(H,{}),Object(z.jsx)(U,{})]})};var X=function(t){var e=t.setLegal;return Object(z.jsxs)(N,{children:[Object(z.jsx)(W,{children:Object(z.jsx)(q,{to:"/to-do-list",children:"ContextAPI"})}),Object(z.jsx)(W,{onClick:e,children:Object(z.jsx)(q,{to:"/to-do-list/redux",children:"Redux"})})]})},Y=n(4),Z=function(t){return{type:"INIT_TASK",allTask:t}},$=function(t,e){return{type:"NEW_TASK",new:{id:t,value:e,reminder:!1}}},tt=function(t){return{type:"DELETE_TASK",id:t}},et=function(t){return{type:"SWITCH_TASK",id:t}},nt=function(t){var e=t.text,n=t.setText,r=Object(Y.c)((function(t){return t.tasks.id})),a=Object(Y.b)();return Object(z.jsx)(A,{type:"text",placeholder:"\u65b0\u589e\u4efb\u52d9",value:e,onChange:function(t){return n(t.target.value)},onKeyDown:function(t){return"Enter"===t.key?(n(""),void a($(r,e))):""}})};var rt=function(t){var e=t.text,n=t.setText,r=Object(Y.c)((function(t){return t.tasks.id})),a=Object(Y.b)();return Object(z.jsx)(S,{type:"button",value:"\u65b0\u589e",onClick:function(){a($(r,e)),n("")}})};var at=function(){var t=Object(b.useState)(""),e=Object(v.a)(t,2),n=e[0],r=e[1];return Object(z.jsxs)(_,{children:[Object(z.jsx)(nt,{text:n,setText:r}),Object(z.jsx)(rt,{text:n,setText:r})]})};var ct=function(t){var e=t.task,n=Object(Y.b)(),r=Object(b.useState)(0),a=Object(v.a)(r,2),c=a[0],i=a[1];return Object(z.jsx)(K,{children:Object(z.jsxs)(F,{task:e,onDoubleClick:function(){return n(et(e.id))},children:[Object(z.jsx)(D,{onChange:function(t){return n=t.target.value,e.value=n,void i(!c);var n},value:e.value,placeholder:"Empty Task"}),Object(z.jsx)(I,{onClick:function(){return n(tt(e.id))},children:"x"})]})})};var it=function(){var t=Object(Y.c)((function(t){return t.tasks.tasks}));return Object(z.jsx)(z.Fragment,{children:t.map((function(t){return Object(z.jsx)(ct,{task:t},t.id)}))})};var st=function(){var t=Object(Y.c)((function(t){return t.tasks})),e=Object(Y.b)();return Object(b.useEffect)((function(){0===t.id&&fetch("https://raw.githubusercontent.com/JiaAnTW/json_storage/master/react-tutorial/todolist.json",{method:"GET"}).then((function(t){return t.json()})).then((function(t){e(Z(t.data))}))}),[t,e]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(at,{}),Object(z.jsx)(it,{})]})};var ot=function(){return Object(z.jsx)(h.a,{children:Object(z.jsxs)("div",{className:"App",children:[Object(z.jsx)(X,{}),Object(z.jsxs)(p.c,{children:[Object(z.jsx)(p.a,{path:"/to-do-list/",element:Object(z.jsx)(V,{})}),Object(z.jsx)(p.a,{path:"/to-do-list/redux",element:Object(z.jsx)(st,{})})]})]})})},ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))},jt=n(12),lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[],id:0},e=arguments.length>1?arguments[1]:void 0,n=t.tasks,r=t.id;switch(e.type){case"INIT_TASK":return{tasks:e.allTask,id:e.allTask.length};case"NEW_TASK":return{tasks:[].concat(Object(T.a)(n),[e.new]),id:r+1};case"DELETE_TASK":return{tasks:n.filter((function(t){return t.id!==e.id})),id:r};case"SWITCH_TASK":return{tasks:n.map((function(t){return t.id===e.id?Object(jt.a)(Object(jt.a)({},t),{},{reminder:!t.reminder}):t})),id:r};default:return t}},dt=n(17),bt=Object(dt.a)({tasks:lt}),xt=Object(dt.b)(bt);f.a.render(Object(z.jsx)(x.a.StrictMode,{children:Object(z.jsx)(Y.a,{store:xt,children:Object(z.jsx)(L,{children:Object(z.jsx)(ot,{})})})}),document.getElementById("root")),ut()}},[[38,1,2]]]);
//# sourceMappingURL=main.4d73c3a1.chunk.js.map