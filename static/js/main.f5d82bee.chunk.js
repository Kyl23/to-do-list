(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{29:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var r,c,a,i,o,s,u,j,b,l,d=n(0),x=n.n(d),O=n(15),f=n.n(O),h=(n(29),n(18)),p=n(2),v=n(3),g=n(14),k=n.n(g),m=n(20),C=n(8),T=n.n(C),y=n(6),w=n(7),S=w.a.input(r||(r=Object(y.a)(["\n    width:45px;\n    outline: none;\n    border-width: 0;\n    color: black;\n    border-radius:50px;\n    background-color: #3DC7BE;\n    font-size:inherit;\n"]))),E=w.a.input(c||(c=Object(y.a)(["\n    border-radius: 50px;\n    width: 149px;\n    height:30px;\n    border: 2px solid #000000\n    margin-right: 5px;\n    padding-left: 5px;\n    font-size:inherit;\n"]))),A=w.a.div(a||(a=Object(y.a)(["\n    display: flex;\n    width: 199px;\n    margin:auto;\n    margin-bottom: 20px;\n"]))),_=w.a.div(i||(i=Object(y.a)(["\n    margin:auto;\n    margin-bottom: 10px;\n    width: 199px;\n    min-height: 40px;\n    max-height: 40px;\n    background-color: bisque;\n    &:hover{\n        background-color:rgb(188, 161, 126);\n    }\n"]))),K=w.a.div(o||(o=Object(y.a)(["\n    color: red;\n    position: relative;\n    right:5px;\n    cursor:pointer;\n    &:hover{\n        color:lightblue;\n    };\n"]))),I=w.a.input(s||(s=Object(y.a)(["\n    height:40px;\n    width:80%;\n    text-align:left;\n    font-size:inherit;\n    background-color:transparent;\n    border:0px;\n    outline:none;\n"]))),D=w.a.div(u||(u=Object(y.a)(["\n    width:100%;\n    height:40px;\n    display: flex;\n    align-items:center;\n\n    font-size: inherit;\n    font-family: KaiTi;\n    padding-left: ",";\n    border-left: "," "," green;        \n    cursor:pointer;\n"])),(function(t){return t.task.reminder?"5px":"9px"}),(function(t){return t.task.reminder?"4px":"0"}),(function(t){return t.task.reminder?"solid":"none"})),F=w.a.ul(j||(j=Object(y.a)(["\n    width:100vw;\n    position:absolute;\n    top:0;left:0;\n    margin:0;\n    background-color:lightblue;\n    font-size:inherit;\n    text-align:left;\n"]))),N=w.a.li(b||(b=Object(y.a)(["\n    display:inline-block;\n    margin:0 20px 0 20px;\n    text-decoration:none;\n"]))),R=Object(w.a)(h.b)(l||(l=Object(y.a)(["\n    text-decoration:none;\n"]))),W=n(1),q=Object(d.createContext)(),z=function(t){var e=Object(d.useState)(""),n=Object(v.a)(e,2),r=n[0],c=n[1],a=Object(d.useState)([]),i=Object(v.a)(a,2),o=i[0],s=i[1],u=Object(d.useState)(0),j=Object(v.a)(u,2),b=j[0],l=j[1],x=Object(d.useRef)(0);return Object(W.jsx)(q.Provider,{value:{textContext:[r,c],taskContext:[o,s],idContext:[b,l],refContext:x},children:t.children})},J=function(){var t=Object(d.useContext)(q),e=Object(v.a)(t.textContext,2),n=e[0],r=e[1],c=t.refContext;return Object(W.jsx)(E,{type:"text",placeholder:"\u65b0\u589e\u4efb\u52d9",value:n,onChange:function(t){return r(t.target.value)},onKeyDown:function(t){return"Enter"===t.key?c.current.click():""}})};J.prototype={txt:T.a.string.isRequired,setTxt:T.a.func.isRequired};var L=J,P=n(17);var B=function(){var t=Object(d.useContext)(q),e=Object(v.a)(t.textContext,2),n=e[0],r=e[1],c=t.refContext,a=Object(v.a)(t.idContext,2),i=a[0],o=a[1],s=Object(v.a)(t.taskContext,2),u=s[0],j=s[1],b=Object(d.useCallback)((function(t){if(!(t.length<=0)){var e={id:i,value:t,reminder:!1};j([].concat(Object(P.a)(u),[e])),o(i+1)}}),[i,u,j,o]);return Object(W.jsx)(S,{ref:c,type:"button",value:"\u65b0\u589e",onClick:function(){b(n),r("")}})},G=function(){var t=Object(m.a)(k.a.mark((function t(){var e,n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://raw.githubusercontent.com/JiaAnTW/json_storage/master/react-tutorial/todolist.json",{method:"GET"});case 2:return e=t.sent,t.next=5,e.text();case 5:return n=t.sent,t.next=8,JSON.parse(n).data;case 8:return r=t.sent,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var H=function(){var t=Object(d.useContext)(q),e=Object(v.a)(t.taskContext,2)[1],n=Object(v.a)(t.idContext,2),r=n[0],c=n[1],a=Object(d.useState)([]),i=Object(v.a)(a,2),o=i[0],s=i[1],u=Object(d.useCallback)((function(t){s(t)}),[]);return Object(d.useEffect)((function(){var t=function(){var t=Object(m.a)(k.a.mark((function t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:e=t.sent,u(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[u]),Object(d.useEffect)((function(){0===r&&0!==o.length&&(e(o),c(o.length+1))}),[o,r,e,c]),Object(W.jsxs)(A,{children:[Object(W.jsx)(L,{}),Object(W.jsx)(B,{})]})};function M(t){var e=t.task,n=t.toggle,r=t.delete_,c=Object(d.useState)(0),a=Object(v.a)(c,2),i=a[0],o=a[1];return Object(W.jsx)(_,{children:Object(W.jsxs)(D,{task:e,onDoubleClick:function(){return t=e.id,n(t),void o(!i);var t},children:[Object(W.jsx)(I,{onChange:function(t){return n=t.target.value,e.value=n,void o(!i);var n},value:e.value,placeholder:"Empty Task"}),Object(W.jsx)(K,{onClick:function(){return r(e.id)},children:" x "})]})})}M.prototype={tasks:T.a.array.isRequired,type:T.a.bool.isRequired};var Q=M;var U=function(){var t=Object(d.useContext)(q),e=Object(v.a)(t.taskContext,2),n=e[0],r=e[1],c=Object(d.useCallback)((function(t){n.map((function(e){return e.id===t?e.reminder=!e.reminder:""}))}),[n]),a=Object(d.useCallback)((function(t){r(n.filter((function(e){return e.id!==t})))}),[n,r]);return Object(W.jsx)(W.Fragment,{children:n.map((function(t){return Object(W.jsx)(Q,{task:t,toggle:c,delete_:a},t.id)}))})};var V=function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(H,{}),Object(W.jsx)(U,{})]})};var X=function(t){var e=t.setLegal;return Object(W.jsxs)(F,{children:[Object(W.jsx)(N,{children:Object(W.jsx)(R,{to:"/to-do-list",children:"ContextAPI"})}),Object(W.jsx)(N,{onClick:e,children:Object(W.jsx)(R,{to:"/to-do-list/redux",children:"Redux"})})]})},Y=n(4),Z=function(t){var e=t.text,n=t.setText,r=Object(Y.c)((function(t){return t.tasks.id})),c=Object(Y.b)();return Object(W.jsx)(E,{type:"text",placeholder:"\u65b0\u589e\u4efb\u52d9",value:e,onChange:function(t){return n(t.target.value)},onKeyDown:function(t){return"Enter"===t.key?void c({type:"NewTask",new:{id:r,value:e,reminder:!1}}):""}})},$="INIT_TASK",tt="NEW_TASK",et="DELETE_TASK",nt="SWITCH_TASK";var rt=function(t){var e=t.text,n=t.setText,r=Object(Y.c)((function(t){return t.tasks.id})),c=Object(Y.b)();return Object(W.jsx)(S,{type:"button",value:"\u65b0\u589e",onClick:function(){c({type:tt,new:{id:r,value:e,reminder:!1}}),n("")}})};var ct=function(){var t=Object(d.useState)(""),e=Object(v.a)(t,2),n=e[0],r=e[1];return Object(W.jsxs)(A,{children:[Object(W.jsx)(Z,{text:n,setText:r}),Object(W.jsx)(rt,{text:n,setText:r})]})};var at=function(t){var e=t.task,n=Object(Y.b)(),r=Object(d.useState)(0),c=Object(v.a)(r,2),a=c[0],i=c[1];return Object(W.jsx)(_,{children:Object(W.jsxs)(D,{task:e,onDoubleClick:function(){return n({type:nt,id:e.id})},children:[Object(W.jsx)(I,{onChange:function(t){return n=t.target.value,e.value=n,void i(!a);var n},value:e.value,placeholder:"Empty Task"}),Object(W.jsx)(K,{onClick:function(){return n({type:et,id:e.id})},children:"x"})]})})};var it=function(){var t=Object(Y.c)((function(t){return t.tasks.tasks}));return Object(W.jsx)(W.Fragment,{children:t.map((function(t){return Object(W.jsx)(at,{task:t},t.id)}))})};var ot=function(){var t=Object(Y.c)((function(t){return t.tasks})),e=Object(Y.b)();return Object(d.useEffect)((function(){0===t.id&&fetch("https://raw.githubusercontent.com/JiaAnTW/json_storage/master/react-tutorial/todolist.json",{method:"GET"}).then((function(t){return t.json()})).then((function(t){e({type:$,allTask:t.data})}))}),[t,e]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ct,{}),Object(W.jsx)(it,{})]})};var st=function(){return Object(W.jsx)(h.a,{children:Object(W.jsxs)("div",{className:"App",children:[Object(W.jsx)(X,{}),Object(W.jsxs)(p.c,{children:[Object(W.jsx)(p.a,{path:"/to-do-list/",element:Object(W.jsx)(V,{})}),Object(W.jsx)(p.a,{path:"/to-do-list/redux",element:Object(W.jsx)(ot,{})})]})]})})},ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))},jt=n(11),bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[],id:0},e=arguments.length>1?arguments[1]:void 0,n=t.tasks,r=t.id;switch(e.type){case"INIT_TASK":return{tasks:e.allTask,id:e.allTask.length};case"NEW_TASK":return{tasks:[].concat(Object(P.a)(n),[e.new]),id:r+1};case"DELETE_TASK":return{tasks:n.filter((function(t){return t.id!==e.id})),id:r};case"SWITCH_TASK":return{tasks:n.map((function(t){return t.id===e.id?Object(jt.a)(Object(jt.a)({},t),{},{reminder:!t.reminder}):t})),id:r};default:return t}},lt=n(16),dt=Object(lt.a)({tasks:bt}),xt=Object(lt.b)(dt);f.a.render(Object(W.jsx)(x.a.StrictMode,{children:Object(W.jsx)(Y.a,{store:xt,children:Object(W.jsx)(z,{children:Object(W.jsx)(st,{})})})}),document.getElementById("root")),ut()}},[[38,1,2]]]);
//# sourceMappingURL=main.f5d82bee.chunk.js.map